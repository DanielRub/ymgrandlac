<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <ui:composition template="../template.xhtml">
        <ui:define name="head">
            <meta charset="UTF-8" />
            <title>Messages</title>
            <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport' />
            <!-- bootstrap 3.0.2 -->
            <h:outputStylesheet library="css" name="bootstrap.min.css" />
            <!-- font Awesome -->
            <h:outputStylesheet  library="css" name="font-awesome.min.css"  />
            <!-- Ionicons -->
            <h:outputStylesheet  library="css" name="ionicons.min.css"  />

            <!-- Theme style -->
            <h:outputStylesheet  library="css" name="AdminLTE.css"  />

            <!-- Fla-ui -->



            <!-- wizard -->



            <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
            <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
            <!--[if lt IE 9]>
              <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
              <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
            <![endif]--> 
        </ui:define>

        <ui:define name="content">

            <aside class="right-side">
                <!-- Content Header (Page header) -->
                <section class="content-header no-margin">
                    <ul class="breadcrumb">
                        <li>
                            <i class="ace-icon fa fa-home home-icon"></i>
                            <a href="#">Accuiel</a>
                        </li>

                        <li>
                            <a href="#">Message</a>
                        </li>
                        <li class="active">Autres Numéros</li>
                    </ul>
                    <h1 class="text-center">
                        Messages
                    </h1>
                </section>

                <!-- Main content -->
                <section class="content">
                    <!-- MAILBOX BEGIN -->
                    <div class="mailbox row">
                        <div class="col-xs-12">
                            <div class="box box-solid">
                                <div class="box-body">
                                    <div class="row">
                                        <div class="col-md-3 col-sm-4">
                                            <!-- BOXES are complex enough to move the .box-header around.
                                                 This is an example of having the box header within the box body -->
                                            <div class="box-header">
                                                <i class="fa fa-inbox"></i>
                                                <h3 class="box-title">BOÎTE D'ENVOI</h3>
                                            </div>
                                            <!-- compose message btn -->
                                            <a class="btn btn-block btn-primary" data-toggle="modal" data-target="#compose-modal"><i class="fa fa-pencil"></i> Composer Message</a>
                                            <!-- Navigation - folders-->
                                            <div style="margin-top: 15px;">
                                                <ul class="nav nav-pills nav-stacked">
                                                    <li class="header">Envoyés (433)</li>
                                                    <li><h:link outcome="parent.xhtml"> <i class="fa fa-user"></i>  Parents </h:link></li>
                                                    <li><h:link outcome="etudiant.xhtml"><i class="fa fa-pencil-square-o"></i>  Etudiants </h:link></li>
                                                    <li><h:link outcome="personnel.xhtml"><i class="fa fa-star"></i> Personnel  </h:link></li>
                                                    <li class="active"><h:link><i class="fa fa-phone"></i> Autres numéros  </h:link></li>

                                                </ul>
                                            </div>
                                        </div><!-- /.col (LEFT) -->
                                        <div class="col-md-9 col-sm-8">

                                            <div class="table-responsive">
                                                <!-- THE MESSAGES -->

                                                <div class="box-body table-responsive no-padding">
                                                    <table id="example" class="table table-mailbox table-striped">
                                                        <thead >
                                                            <tr>
                                                                <th> Expéditeur
                                                                </th>
                                                                <th>Objet</th>
                                                                <th>Destinataire</th>
                                                                <th>volume</th>
                                                                <th>Reçus</th>
                                                                <th>Echecs</th>
                                                                <th>Heure</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td class="name"> <a href="#">John Doe</a></td>
                                                                <td class="subject">
                                                                    <span class="fa fa-envelope-o"></span>
                                                                    <a href="#modal-message" role="button" class="green" data-toggle="modal">Urgent! Please read</a></td>
                                                                <td class="subject">
                                                                    <i class="ace-icon fa fa-hand-o-right icon-animated-hand-pointer blue"></i>
                                                                    <a href="#modal-table" role="button" class="green" data-toggle="modal"> Afficher</a>
                                                                </td>
                                                                <td class="subject"><a href="#">340</a></td>
                                                                <td class="subject"><small class="badge  bg-green">270</small></td>
                                                                <td class="subject"><small class="badge  bg-yellow">27</small></td>
                                                                <td class="time">12:30 PM</td>
                                                            </tr>
                                                            <tr>
                                                                <td class="name"><a href="#">Mr x</a></td>
                                                                <td class="subject">
                                                                    <span class="fa fa-envelope-o"></span>
                                                                    <a href="#modal-message" role="button" class="green" data-toggle="modal">Rappel frais</a></td>
                                                                <td class="subject">
                                                                    <i class="ace-icon fa fa-hand-o-right icon-animated-hand-pointer blue"></i>
                                                                    <a href="#modal-table" role="button" class="green" data-toggle="modal"> Afficher</a>
                                                                </td>
                                                                <td class="subject"><a href="#">340</a></td>
                                                                <td class="subject"><small class="badge  bg-green">270</small></td>
                                                                <td class="subject"><small class="badge  bg-yellow">27</small></td>
                                                                <td class="time">12:30 PM</td>
                                                            </tr>
                                                        </tbody>
                                                        <tfoot>
                                                            <tr>
                                                                <th>Expéditeur</th>
                                                                <th>Objet</th>
                                                                <th>Destinataire</th>
                                                                <th>volume</th>
                                                                <th>Reçus</th>
                                                                <th>Echecs</th>
                                                                <th>Heure</th>
                                                            </tr>
                                                        </tfoot>
                                                    </table>
                                                </div>
                                            </div><!-- /.table-responsive -->
                                        </div><!-- /.col (RIGHT) -->
                                    </div><!-- /.row -->
                                </div><!-- /.box-body -->

                            </div><!-- /.box -->
                        </div><!-- /.col (MAIN) -->
                    </div>
                    <!-- MAILBOX END -->

                </section><!-- /.content -->
            </aside>
        </ui:define>
        <ui:define name="other-content">
            <div class="modal fade" id="compose-modal" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content col-md-10">
                        <h:form>

                            <div class="modal-header">
                                <div class="box-tools pull-right" data-toggle="tooltip" title="Fermer">
                                    <div class="pull-right box-tools">
                                        <button class="btn btn-info btn-sm" data-dismiss="modal"  data-toggle="tooltip" title="Remove"><i class="fa fa-times"></i></button>
                                    </div><!-- /. tools -->
                                </div>
                                <h4 class="modal-title"><i class="fa fa-envelope"></i> Composer Message</h4>

                            </div>

                            <div class="modal-body">
                                <div class="form-group">


                                    <h:panelGroup class="input-group margin" id="destinataire">
                                        <h:panelGroup class="input-group-btn">
                                            <h:commandButton type="button" class="btn btn-default dropdown-toggle" value="#{parent.labelDestinataire}"/>
                                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                                <span class="caret"></span>
                                                <span class="sr-only">Toggle Dropdown</span>
                                            </button>
                                            <ul class="dropdown-menu" role="menu">
                                                <li><p:commandLink update="destinataire" actionListener="#{parent.setIdDestinataire(0)}"  value="Tél"/></li>
                                                <li><p:commandLink update="destinataire" actionListener="#{parent.setIdDestinataire(1)}" value="Parents"/></li>
                                                <li><p:commandLink update="destinataire" actionListener="#{parent.setIdDestinataire(2)}"  value="Edutiants" /></li>
                                                <li><p:commandLink update="destinataire" actionListener="#{parent.setIdDestinataire(3)}"  value="Personnel" /></li>
                                            </ul>
                                        </h:panelGroup><!-- /btn-group -->
                                        <p:inputText value="#{parent.telNumber}" rendered="#{parent.idDestinataire==0}" class="form-control"/>

                                        <!--menu parent-->
                                        <h:panelGroup class="btn-group" id="menu_parent" rendered="#{parent.idDestinataire==1}">
                                            <h:commandButton type="button" class="btn btn-default dropdown-toggle" value="#{parent.labelParent}"/>
                                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                                <span class="caret"></span>
                                                <span class="sr-only">Toggle Dropdown</span>
                                            </button>
                                            <ul class="dropdown-menu" role="menu">
                                                <li><p:commandLink value="Tous" update="destinataire" actionListener="#{parent.setIdLabelParent(0)}" /></li>
                                                <li><p:commandLink value="Litige des frais" update="destinataire" actionListener="#{parent.setIdLabelParent(1)}"/></li>
                                                <ui:remove>
                                                    <li class="divider"></li>
                                                    <li><p:commandLink value="Choisir.." update="destinataire" actionListener="#{parent.setIdLabelParent(2)}"/></li>
                                                </ui:remove>
                                            </ul>
                                        </h:panelGroup>
                                        <!--End menu Parent-->

                                        <!--menu Etudiant-->
                                        <h:panelGroup class="btn-group" rendered="#{parent.idDestinataire==2}">
                                            <h:commandButton type="button" class="btn btn-default dropdown-toggle" value="#{parent.labelEtudiant}"/>
                                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                                <span class="caret"></span>
                                                <span class="sr-only">Toggle Dropdown</span>
                                            </button>
                                            <ul class="dropdown-menu" role="menu">
                                                <li><p:commandLink value="Tous" update="destinataire" actionListener="#{parent.setIdLabelEtudiant(0)}"/></li>
                                                <li><p:commandLink value="Litige des frais" update="destinataire" actionListener="#{parent.setIdLabelEtudiant(-1)}"/></li>
                                                <li class="divider"></li>
                                                <li><p:commandLink value="FSTA" update="destinataire" actionListener="#{parent.setIdLabelEtudiant(1)}"/></li>
                                                <li><p:commandLink value="FSEG" update="destinataire" actionListener="#{parent.setIdLabelEtudiant(2)}"/></li>
                                                <ui:remove>
                                                    <li class="divider"></li>
                                                    <li><p:commandLink value="Choisir.." update="destinataire" actionListener="#{parent.setIdLabelEtudiant(-2)}"/></li>
                                                </ui:remove>
                                            </ul>
                                        </h:panelGroup>
                                        <h:panelGroup class="btn-group" rendered="#{(parent.idLabelEtudiant > 0)}">
                                            <button type="button" class="btn btn-default">Tous</button>
                                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                                <span class="caret"></span>
                                                <span class="sr-only">Toggle Dropdown</span>
                                            </button>
                                            <ul class="dropdown-menu" role="menu">
                                                <li><p:commandLink value="Génie informatique" action="#{parent.sendmessage}"/></li>
                                                <li><p:commandLink value="Génie civil" action="#{parent.sendmessage}"/></li>
                                                <li><p:commandLink value="Génie Electricité" action="#{parent.sendmessage}"/></li>
                                                <ui:remove>
                                                    <li class="divider"></li>
                                                    <li><p:commandLink value="Choisir.." action="#{parent.sendmessage}"/></li>
                                                </ui:remove>
                                            </ul>
                                        </h:panelGroup>
                                        <h:panelGroup class="btn-group" rendered="false">
                                            <button type="button" class="btn btn-default">Tous</button>
                                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                                <span class="caret"></span>
                                                <span class="sr-only">Toggle Dropdown</span>
                                            </button>
                                            <ul class="dropdown-menu" role="menu">
                                                <li><p:commandLink value="Tous" action="#{parent.sendmessage}"/></li>
                                                <li><p:commandLink value="G0" action="#{parent.sendmessage}"/></li>
                                                <li><p:commandLink value="G1" action="#{parent.sendmessage}"/></li>
                                                <li><p:commandLink value="G2" action="#{parent.sendmessage}"/></li>
                                                <li><p:commandLink value="G3" action="#{parent.sendmessage}"/></li>
                                                <li><p:commandLink value="Tech 1" action="#{parent.sendmessage}"/></li>
                                                <li><p:commandLink value="Tech 2" action="#{parent.sendmessage}"/></li>
                                                <ui:remove>
                                                    <li class="divider"></li>
                                                    <li><p:commandLink value="Choisir.." action="#{parent.sendmessage}"/></li>
                                                </ui:remove>
                                            </ul>
                                        </h:panelGroup>
                                        <!--End menu Etudiant-->

                                        <!--menu Personnel-->
                                        <h:panelGroup class="btn-group" id="menu_personnel" rendered="#{parent.idDestinataire==3}">
                                            <h:commandButton type="button" class="btn btn-default dropdown-toggle" value="#{parent.labelPersonnel}"/>
                                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                                <span class="caret"></span>
                                                <span class="sr-only">Toggle Dropdown</span>
                                            </button>
                                            <ul class="dropdown-menu" role="menu">
                                                <li><p:commandLink value="Tous" update="destinataire" actionListener="#{parent.setIdLabelPersonnel(0)}" /></li>
                                                <ui:remove>
                                                    <li class="divider"></li>
                                                    <li><p:commandLink value="Choisir.." update="destinataire" actionListener="#{parent.setIdLabelPersonnel(1)}"/></li>
                                                </ui:remove>
                                            </ul>
                                        </h:panelGroup>
                                        <!--End menu Personnel -->

                                    </h:panelGroup>
                                </div>
                                <div class="form-group">
                                    <p:inputTextarea value="#{parent.message}" class="form-control" counter="display" maxlength="160"  rows="6" counterTemplate="{0} caractères restants." autoResize="false" />
                                    <h:outputText id="display" />
                                </div>

                            </div>
                            <div class="modal-footer clearfix">
                                <p:commandButton class="btn btn-primary" style="height: 35px" action="#{parent.sendmessage}"  icon="fa fa-envelope" value="Envoyer Message"/>
                            </div>
                        </h:form>
                    </div><!-- /.modal-content -->
                </div><!-- /.modal-dialog -->
            </div><!-- /.modal -->


            <div id="modal-table" class="modal fade" tabindex="-1">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body no-padding">
                            <div class="box-body table-responsive no-padding">
                                <div class="box-tools pull-right" data-toggle="tooltip" title="Status">
                                    <div class="pull-right box-tools">
                                        <button class="btn btn-info btn-sm" data-dismiss="modal"  data-toggle="tooltip" title="Remove"><i class="fa fa-times"></i></button>
                                    </div><!-- /. tools -->
                                </div>
                                <br/> <br/>
                                <div class="box">

                                    <table id="destinataire" class="table table-bordered table-striped table-responsive">
                                        <thead>
                                            <th>Id</th>
                                            <th>Nom Complet</th>
                                            <th>Etudiant</th>
                                            <th>Tel</th>
                                            <th>Status sms</th>
                                            <th>Heure</th>
                                        </thead>

                                        <tr>
                                            <td>1.</td>
                                            <td>Asani Mutuni Justin</td>
                                            <td>Asani muti muti</td>

                                            <td><span >+243996787765</span></td>
                                            <td><span class="label label-warning">En attente</span></td>
                                            <td></td>
                                        </tr>
                                        <tr>
                                            <td>1.</td>
                                            <td>Asani Mutuni Justin</td>
                                            <td>Asani muti muti</td>

                                            <td><span >+243996787765</span></td>
                                            <td><span class="label label-success">Envoyé</span></td>
                                            <td>23:04</td>
                                        </tr>
                                        <tr>
                                            <td>1.</td>
                                            <td>Asani Mutuni Justin</td>
                                            <td>Asani muti muti</td>

                                            <td><span >+243996787765</span></td>
                                            <td><span class="label label-danger">Echec</span></td>
                                            <td>23:04</td>
                                        </tr>


                                    </table>

                                </div>
                            </div><!-- /.table-responsive -->

                        </div>

                    </div><!-- /.modal-content -->
                </div><!-- /.modal-dialog -->
            </div><!-- PAGE CONTENT ENDS -->


            <div id="modal-message" class="modal fade" tabindex="-1">
                <div class="modal-dialog">
                    <div class="modal-content">


                        <div class="modal-body no-padding">
                            <div class="box-body table-responsive no-padding">

                                <div class="box box-success">
                                    <div class="box-header">
                                        <h3 class="box-title"><i class="fa fa-comments-o"></i> Message</h3>
                                        <div class="box-tools pull-right" data-toggle="tooltip" title="Status">
                                            <div class="pull-right box-tools">
                                                <button class="btn btn-info btn-sm" data-dismiss="modal"  data-toggle="tooltip" title="Remove"><i class="fa fa-times"></i></button>
                                            </div><!-- /. tools -->
                                        </div>
                                    </div>

                                    <div class="box-body chat" id="chat-box">
                                        <!-- chat item -->
                                        <div class="item">
                                            <img src="resources/img/avatar.png" alt="user image" class="online"/>
                                            <p class="message">
                                                <a href="#" class="name">
                                                    <small class="text-muted pull-right"><i class="fa fa-clock-o"></i> 2:15</small>
                                                    John Doe : Urgent Please
                                                </a>
                                                I would like to meet you to discuss the latest news about
                                                the arrival of the new theme. They say it is going to be one the
                                                best themes on the market
                                            </p>
                                            <div class="attachment">
                                                <h4>Détails:</h4>
                                                <p class="filename">
                                                    Envoyé par John Doe Aux Parents
                                                </p>

                                                <div class="pull-right">
                                                    <button class="btn btn-primary btn-sm btn-flat" data-dismiss="modal">Fermer</button>
                                                </div>
                                            </div><!-- /.attachment -->
                                        </div><!-- /.item -->
                                        <!-- chat item -->

                                    </div><!-- /.chat -->

                                </div><!-- /.box (chat box) -->

                            </div><!-- /.table-responsive -->

                        </div>

                    </div><!-- /.modal-content -->
                </div><!-- /.modal-dialog -->
            </div><!-- PAGE CONTENT ENDS -->

        </ui:define>

        <ui:define name="script">
            <!-- jQuery 2.0.2 -->
            <h:outputScript library="js" name="jquery-2.0.2.min.js"/>
            <!--
                    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
            -->       <!-- Bootstrap -->
            <h:outputScript library="js" name="bootstrap.min.js" />
            <!-- AdminLTE App -->
            <h:outputScript library="js" name="AdminLTE/app.js" />
            <!-- AdminLTE for demo purposes -->
            <h:outputScript library="js" name="AdminLTE/demo.js" />  

            <!-- DATA TABES SCRIPT -->
            <script src="../../resources/js/plugins/datatables/jquery.dataTables.js" type="text/javascript"></script>
            <script src="../../resources/js/plugins/datatables/dataTables.bootstrap.js" type="text/javascript"></script>


            <script type="text/javascript">
                $(function () {
                    $('#example').dataTable({
                        "bPaginate": true,
                        "bLengthChange": true,
                        "bFilter": true,
                        "bSort": false,
                        "bInfo": true,
                        "bAutoWidth": false
                    });
                });
            </script>

        </ui:define>

    </ui:composition>

</html>